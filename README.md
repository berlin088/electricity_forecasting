# 24-Hour Electricity Demand Forecasting Assessment

This project fulfills the fast-track assessment for the Machine Learning Engineer internship. It ingests 3-minute smart meter data, processes it into a clean hourly series, and generates a 24-hour-ahead demand forecast for a specified city using a Ridge Regression model, compared against a Seasonal Naive baseline.

## Project Structure

- `data/raw/`: Holds the raw smart meter CSV files (from Kaggle).
- `src/`: Contains all modular Python source code for data loading, processing, modeling, evaluation, and reporting.
- `templates/`: Contains the HTML template (`report.html`) used for generating the PDF report.
- `artifacts/fast_track/`: The output directory for generated forecasts (`.csv`), metrics (`.csv`), and plots (`.png`).
- `reports/`: The output directory for the final PDF report.
- `run_forecast.py`: The main executable script that orchestrates the entire pipeline.
- `requirements.txt`: Lists the required Python packages.
- `README.md`: This file.

## How to Run

1.  **Set up the environment:**
    * It's recommended to use a virtual environment.
        ```bash
        python -m venv .venv
        # On Windows:
        .venv\Scripts\activate
        # On macOS/Linux:
        source .venv/bin/activate
        ```
    * Install the required packages:
        ```bash
        pip install -r requirements.txt
        ```
    * **(Windows Only)** Install GTK3 for WeasyPrint PDF generation:
        * Download and run the installer from: [https://github.com/tschoonj/GTK-for-Windows-Runtime-Environment-Installer/releases](https://github.com/tschoonj/GTK-for-Windows-Runtime-Environment-Installer/releases)
        * **Important:** During installation, ensure the "Add to PATH" option is checked.
        * Restart your terminal after installation.

2.  **Place Data:**
    * Download the smart meter data from the provided Kaggle link.
    * Place all the `.csv` files inside the `data/raw/` folder.

3.  **Run the full pipeline:**
    * Navigate to the project's root directory (`electricity_forecasting/`) in your terminal.
    * The script will automatically find the latest data for the specified city, define the 7-day training window based on the latest available data, and forecast the subsequent 24 hours.

    ```bash
    # Run for Bareilly with weather, plots, and PDF report
    python run_forecast.py --city Bareilly --with_weather true --make_plots true --save_report true

    # Run for Mathura without weather (plots and report still generated by default)
    python run_forecast.py --city Mathura --with_weather false

    # Run without generating plots or the report (faster)
    python run_forecast.py --city Bareilly --with_weather true --make_plots false --save_report false
    ```

## Outputs

The script will generate the following outputs:

-   **Forecast & Metrics:**
    -   `artifacts/fast_track/<city_name>/forecast_T_plus_24.csv`
    -   `artifacts/fast_track/<city_name>/metrics.csv`
-   **Plots:**
    -   `artifacts/fast_track/<city_name>/plots/forecast_vs_actuals.png`
    -   `artifacts/fast_track/<city_name>/plots/horizon_mae_ridge.png`
-   **Report:**
    -   `reports/fast_track_report_<city_name>.pdf` (if `--save_report true`)